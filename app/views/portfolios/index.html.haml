.row.show-grid
  .span12
    %h1 My Portfolios
    - unless collection.empty?
      %table.table.table-striped.table-bordered
        %thead
          %tr
            %th{:colspan => 3} Portfolio Name

        %tbody
          - @portfolios.each do |portfolio|
            %tr
              %td= link_to portfolio.name, details_portfolio_path(portfolio), :method => :get
              %td.span2= link_to 'Add Transaction', add_transaction_portfolio_path(portfolio), :method => :get, :class => %w(btn)
              %td.span1
                = link_to 'Share', "#share-#{portfolio.id}", :class => %w(btn btn-success), :data => {:toggle => :modal}
                .modal.fade.hide{:id => "share-#{portfolio.id}"}
                  .modal-header
                    %button.close{:type => :button, :data => {:dismiss => :modal}} x
                    %h1 Share #{portfolio.name}
                  .modal-body
                    %p
                      Your Portfolio
                      %strong= portfolio.name
                      shall be made public. Every one will be able to see the portfolio at
                      = link_to portfolio_url(portfolio), portfolio_path(portfolio)     # TODO: link to portfolio public path
                    %p Your actual amount holding shall not be shared. Only the corresponding percentages shall be visible to a viewer.
                  .modal-footer
                    = link_to 'Cancel', '#', :class => %w(btn btn-danger), :data => {:dismiss => :modal}
                    = link_to 'Share', portfolio_path(portfolio), :class => %w(btn btn-success)   # TODO: Make the link post to share portfolio page

              %td.span1= link_to 'Rename', edit_portfolio_path(portfolio), :method => :get, :class => %w(btn btn-warning)
              %td.span1= link_to 'Delete', portfolio, :confirm => 'Are you sure you want to delete this portfolio?', :method => :delete, :class => %w(btn btn-danger)
      = link_to 'Create New Portfolio', new_portfolio_path, :method => :get, :class => "create_new_portfolio"

    -else
      .well.show-grid
        %p.align-center
          = t '.empty_portfolio'
          = link_to 'Create new portfolio', new_portfolio_path, :method => :get

