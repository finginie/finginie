- [ 'stock_positions', 'mutual_fund_positions' ].each do |positions|
  - if resource.send(positions)
    %div{ :id => "#{positions}" }
      %table
        %tr
          %th Name
          %th Quantity
          %th Average Cost Price
          %th Market Price
          %th Amount Invested
          %th Market Value
          %th Profit
        - resource.send(positions).each do |net_position|
          %tr
            %td= link_to net_position.name
            %td=  number_to_indian_currency net_position.quantity
            %td= number_to_indian_currency net_position.average_cost_price
            %td= number_to_indian_currency net_position.current_price
            %td= number_to_indian_currency net_position.total_cost
            %td= number_to_indian_currency net_position.current_value
            %td= number_to_indian_currency net_position.unrealised_profit

- unless resource.gold_transactions.empty?
  #gold_positions
    %table
      %tr
        %th Name
        %th Quantity
        %th Average Cost Price
        %th Market Price
        %th Amount Invested
        %th Market Value
        %th Profit

      %tr
        %td= link_to resource.gold_transactions.name
        %td=  number_to_indian_currency resource.gold_transactions.quantity
        %td= number_to_indian_currency resource.gold_transactions.average_cost_price
        %td= number_to_indian_currency resource.gold_transactions.current_price
        %td= number_to_indian_currency resource.gold_transactions.total_cost
        %td= number_to_indian_currency resource.gold_transactions.current_value
        %td= number_to_indian_currency resource.gold_transactions.unrealised_profit

%section{:class => "Loan"}
  = render "loan_positions", :loan_positions => resource.loan_positions
%section{:class => "FixedDeposit"}
  = render "fixed_deposit_positions", :fixed_deposit_positions => resource.fixed_deposit_positions
