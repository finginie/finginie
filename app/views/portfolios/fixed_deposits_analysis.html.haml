= render 'subnav'

%h1 Fixed Deposits Analysis
- unless resource.fixed_deposit_open_positions_rate_of_interests.empty?
  #fixed-deposits-chart.chart{ data: { elements: [['Rate','Amount']] + resource.fixed_deposit_open_positions_rate_of_interests.map{ |fd| [fd.rate.to_s, fd.amount] },
                               title: 'Fixed Deposits', yAxisTitle: 'Amount Invested (Rs)', xAxisTitle: 'Interest Rate p.a.(%)', chartType: 'Column' } }
  %h1 Interest rate wise Analysis
  %table.table.table-striped
    %tr
      %th.name Name
      %th Interest Rate
      %th Invested Amount
    %tr
      %td
      %td (%)
      %td (Rs)
    - resource.fixed_deposit_open_positions_rate_of_interests.each do |hsh|
      %tr
        %td.name= hsh.name
        %td= hsh.rate
        %td= hsh.amount
    %tr.total
      %td.name Total
      %td
      %td= resource.fixed_deposit_open_positions_rate_of_interests.sum(&:amount)
-else
  .hero-unit.show-grid
    %p.align-center
      = t ".no_fixed_deposit_transaction"
      = link_to "Add a fixed deposit", new_portfolio_fixed_deposit_transaction_path(resource), :class => 'btn btn-primary'
